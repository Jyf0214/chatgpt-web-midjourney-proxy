import{d as B,am as G,r as E,l as I,X as A,Z as S,S as T,o as b,c as $,a as e,_ as v,$ as o,b as d,J as t,b3 as O,a4 as p,ar as f,N as c,O as N,ae as J,a5 as g,ao as W,G as j,m as q,Y as K,aY as l,bs as m}from"./index-b574640b.js";import{N as h}from"./Slider-5fdb45e2.js";import{N as D}from"./Switch-a0db0e58.js";const z={class:"mb-4 flex justify-between items-center"},X=e("span",{class:"text-red-500"},"*",-1),F={class:"mb-4 flex justify-between items-center"},Z={class:"flex justify-between items-center"},H={class:"flex justify-end items-center w-[80%] max-w-[240px]"},Q={class:"w-[200px]"},ee={class:"w-[50px] text-right"},te={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},se={class:"flex justify-between items-center"},ae={class:"flex justify-end items-center w-[80%] max-w-[240px]"},le={class:"w-[200px]"},oe={class:"w-[50px] text-right"},ne={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},ie={class:"mb-4"},re={class:"flex justify-between items-center"},de={class:"flex justify-end items-center w-[80%] max-w-[240px]"},ue={class:"w-[200px]"},pe={class:"w-[40px] text-right"},ce={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},me={class:"flex justify-between items-center"},ve={class:"flex justify-end items-center w-[80%] max-w-[240px]"},_e={class:"w-[200px]"},ye={class:"w-[40px] text-right"},fe={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},he={class:"flex justify-between items-center"},xe={class:"flex justify-end items-center w-[80%] max-w-[240px]"},be={class:"w-[200px]"},$e={class:"w-[40px] text-right"},ge={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},we={class:"flex justify-between items-center"},Ee={class:"flex justify-end items-center w-[80%] max-w-[240px]"},je={class:"w-[200px]"},De={class:"w-[40px] text-right"},Se={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},Re={class:"mb-4 flex justify-between items-center"},Ue={class:"text-right flex justify-end space-x-2"},It=B({__name:"aiModel",emits:["close"],setup(M,{emit:w}){const x=G().active,a=new W(x??1002),s=E(a.getGptConfig()),n=E({model:["gpt-4-turbo-2024-04-09","o1-preview","o1-mini","o1-preview-2024-09-12","o1-mini-2024-09-12","chatgpt-4o-latest","gpt-4o-2024-08-06","gpt-4o-2024-05-13","gpt-4o-mini-2024-07-18","gpt-4o-mini","gpt-4o","gpt-4-turbo","gpt-4-0125-preview","gpt-3.5-turbo","gpt-4-1106-preview","gpt-3.5-turbo-16k","gpt-4","gpt-4-0613","gpt-4-32k-0613","gpt-4-32k","gpt-4-32k-0314","gpt-3.5-turbo-16k-0613","gpt-4-vision-preview","gpt-3.5-turbo-1106","gpt-3.5-turbo-0125","gpt-3.5-turbo-0301","gpt-3.5-turbo-0613","gpt-4-all","gpt-3.5-net","gemini-pro","gemini-pro-vision","gemini-pro-1.5","gemini-1.5-pro-exp-0801","claude-3-sonnet-20240229","claude-3-opus-20240229","claude-3-haiku-20240307","claude-3-5-sonnet-20240620","suno-v3"],maxToken:4096}),U=E({openMore:!1}),P=I(()=>{let i=[];for(let r of"alloy,echo,fable,onyx,nova,shimmer".split(/[ ,]+/ig))i.push({label:r,value:r});return i}),V=I(()=>{let i=[];for(let u of n.value.model)i.push({label:u,value:u});if(f.myData.userModel){let u=f.myData.userModel.split(/[ ,]+/ig);for(let y of u)y&&i.push({label:y,value:y})}if(j.myData.session.cmodels){let u=[],y=[],k=!1;j.myData.session.cmodels.split(/[ ,]+/ig).map(_=>{_.indexOf("-")==0?(u.push(_.substring(1)),_=="-all"&&(k=!0)):y.push(_)}),q("cmodels",u,y),k&&(i=[]),i=i.filter(_=>u.indexOf(_.value)==-1),y.map(_=>i.push({label:_,value:_})),i.length==0&&i.push({label:"gpt-3.5-turbo",value:"gpt-3.5-turbo"})}return Array.from(new Map(i.map(u=>[JSON.stringify(u),u])).values())}),Y=A(),C=i=>{a.save(s.value),f.setMyData(s.value),j.setMyData({act:"saveChat"}),i!="hide"&&Y.success(K("common.saveSuccess")),w("close")};S(()=>s.value.model,i=>{s.value.gpts=void 0;let r=4096*2*2;i.indexOf("vision")>-1?r=4096*2:i=="gpt-4o-2024-08-06"||i=="chatgpt-4o-latest"?r=16384*2:i.indexOf("gpt-4")>-1||i.indexOf("16k")>-1||i.indexOf("o1-")>-1?r=4096*2:i.toLowerCase().includes("claude-3-5")?r=4096*2*2:i.toLowerCase().includes("claude-3")&&(r=4096*2),n.value.maxToken=r/2,s.value.max_tokens>n.value.maxToken&&(s.value.max_tokens=n.value.maxToken)});const L=()=>{f.setInit(),s.value=f.myData};return T(()=>{}),(i,r)=>(b(),$(N,null,[e("section",z,[e("div",null,[X,v(" "+o(i.$t("mjset.model")),1)]),d(t(O),{value:s.value.model,"onUpdate:value":r[0]||(r[0]=u=>s.value.model=u),options:t(V),size:"small",filterable:"",class:"!w-[50%]"},null,8,["value","options"])]),e("section",F,[d(t(c),{placeholder:i.$t("mjchat.modlePlaceholder"),value:t(f).myData.userModel,"onUpdate:value":r[1]||(r[1]=u=>t(f).myData.userModel=u)},{prefix:p(()=>[v(o(i.$t("mjchat.myModle")),1)]),_:1},8,["placeholder","value"])]),e("section",Z,[e("div",null,o(i.$t("mjchat.historyCnt")),1),e("div",H,[e("div",Q,[d(t(h),{value:s.value.talkCount,"onUpdate:value":r[2]||(r[2]=u=>s.value.talkCount=u),step:1,max:50},null,8,["value"])]),e("div",ee,o(s.value.talkCount),1)])]),e("div",te,o(i.$t("mjchat.historyToken")),1),e("section",se,[e("div",null,o(i.$t("mjchat.historyTCnt")),1),e("div",ae,[e("div",le,[d(t(h),{value:s.value.max_tokens,"onUpdate:value":r[3]||(r[3]=u=>s.value.max_tokens=u),step:1,max:n.value.maxToken,min:1},null,8,["value","max"])]),e("div",oe,o(s.value.max_tokens),1)])]),e("div",ne,o(i.$t("mjchat.historyTCntInfo")),1),e("section",ie,[e("div",null,o(i.$t("mjchat.role")),1),e("div",null,[d(t(c),{type:"textarea",placeholder:i.$t("mjchat.rolePlaceholder"),value:s.value.systemMessage,"onUpdate:value":r[4]||(r[4]=u=>s.value.systemMessage=u),autosize:{minRows:3}},null,8,["placeholder","value"])])]),U.value.openMore?(b(),$(N,{key:0},[e("section",re,[e("div",null,o(i.$t("mj.temperature")),1),e("div",de,[e("div",ue,[d(t(h),{value:s.value.temperature,"onUpdate:value":r[5]||(r[5]=u=>s.value.temperature=u),step:.01,max:1},null,8,["value","step"])]),e("div",pe,o(s.value.temperature),1)])]),e("div",ce,o(i.$t("mj.temperatureInfo")),1),e("section",me,[e("div",null,o(i.$t("mj.top_p")),1),e("div",ve,[e("div",_e,[d(t(h),{value:s.value.top_p,"onUpdate:value":r[6]||(r[6]=u=>s.value.top_p=u),step:.01,max:1},null,8,["value","step"])]),e("div",ye,o(s.value.top_p),1)])]),e("div",fe,o(i.$t("mj.top_pInfo")),1),e("section",he,[e("div",null,o(i.$t("mj.presence_penalty")),1),e("div",xe,[e("div",be,[d(t(h),{value:s.value.presence_penalty,"onUpdate:value":r[7]||(r[7]=u=>s.value.presence_penalty=u),step:.01,max:1},null,8,["value","step"])]),e("div",$e,o(s.value.presence_penalty),1)])]),e("div",ge,o(i.$t("mj.presence_penaltyInfo")),1),e("section",we,[e("div",null,o(i.$t("mj.frequency_penalty")),1),e("div",Ee,[e("div",je,[d(t(h),{value:s.value.frequency_penalty,"onUpdate:value":r[8]||(r[8]=u=>s.value.frequency_penalty=u),step:.01,max:1},null,8,["value","step"])]),e("div",De,o(s.value.frequency_penalty),1)])]),e("div",Se,o(i.$t("mj.frequency_penaltyInfo")),1),e("section",Re,[e("div",null,o(i.$t("mj.tts_voice")),1),d(t(O),{value:s.value.tts_voice,"onUpdate:value":r[9]||(r[9]=u=>s.value.tts_voice=u),options:t(P),size:"small",class:"!w-[50%]"},null,8,["value","options"])])],64)):(b(),$("div",{key:1,class:"text-right cursor-pointer mb-4",onClick:r[10]||(r[10]=u=>U.value.openMore=!0)},[d(t(J),{type:"primary",round:"",size:"small",bordered:!1,class:"!cursor-pointer"},{default:p(()=>[v("More...")]),_:1})])),e("section",Ue,[d(t(g),{onClick:r[11]||(r[11]=u=>L())},{default:p(()=>[v(o(i.$t("mj.setBtBack")),1)]),_:1}),d(t(g),{type:"primary",onClick:r[12]||(r[12]=u=>C("no"))},{default:p(()=>[v(o(i.$t("common.save")),1)]),_:1})])],64))}}),ke={id:"setserver"},Ie={class:"w-full h-[540px] overflow-y-auto overflow-x-hidden"},Oe={class:"p-2"},Ne={class:"flex justify-between items-baseline"},Be={class:"pb-1"},Ae={class:"text-right"},Ke={class:"mb-4 flex justify-between items-center"},Me={class:"text-[var(--n-tab-text-color-active)]"},Pe={class:"mb-4 flex justify-between items-center"},Ve=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"OpenAI Api Key:",-1),Ye={class:"flex justify-between items-baseline"},Ce={class:"mb-4 flex justify-start items-center"},Le={class:"mb-4 flex justify-start items-center"},Ge={class:"text-right"},Te={class:"mb-4 flex justify-between items-center"},Je={class:"text-[var(--n-tab-text-color-active)]"},We={class:"mb-4 flex justify-between items-center"},qe=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"Midjourney Api Secret:",-1),ze={class:"text-right"},Xe={class:"mb-4 flex justify-between items-center"},Fe={class:"text-[var(--n-tab-text-color-active)]"},Ze={class:"mb-4 flex justify-between items-center"},He=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"Suno Key:",-1),Qe={class:"text-right"},et={class:"mb-4 flex justify-between items-center"},tt={class:"text-[var(--n-tab-text-color-active)]"},st={class:"mb-4 flex justify-between items-center"},at=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"Luma Key:",-1),lt={class:"text-right"},ot={class:"mb-4 flex justify-between items-center"},nt={class:"text-[var(--n-tab-text-color-active)]"},it={class:"mb-4 flex justify-between items-center"},rt=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"Viggle Key:",-1),dt={class:"text-right"},ut={class:"mb-4 flex justify-between items-center"},pt={class:"text-[var(--n-tab-text-color-active)]"},ct={class:"mb-4 flex justify-between items-center"},mt=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"Runway Key:",-1),vt={class:"text-right"},_t={class:"mb-4 flex justify-between items-center"},yt={class:"text-[var(--n-tab-text-color-active)]"},ft={class:"mb-4 flex justify-between items-center"},ht=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"Ideogram Key:",-1),xt={class:"text-right"},bt={class:"mb-4 flex justify-between items-center"},$t={class:"text-[var(--n-tab-text-color-active)]"},gt={class:"mb-4 flex justify-between items-center"},wt={class:"text-[var(--n-tab-text-color-active)]"},Et={class:"text-right"},jt={class:"mb-4 flex justify-between items-center"},Dt={class:"text-[var(--n-tab-text-color-active)]"},St={class:"text-right flex justify-end space-x-2"},Ot=B({__name:"aiSetServer",emits:["close"],setup(M,{emit:w}){const R=A(),x=()=>{l.setMyData(l.myData),R.success(K("mjchat.success")),w("close")};return S(()=>l.myData.OPENAI_API_BASE_URL,a=>{l.myData.IS_SET_SYNC&&(l.myData.MJ_SERVER=a,l.myData.SUNO_SERVER=a,l.myData.LUMA_SERVER=a,l.myData.VIGGLE_SERVER=a,l.myData.RUNWAY_SERVER=a,l.myData.IDEO_SERVER=a,l.myData.KLING_SERVER=a)}),S(()=>l.myData.OPENAI_API_KEY,a=>{l.myData.IS_SET_SYNC&&(l.myData.MJ_API_SECRET=a,l.myData.SUNO_KEY=a,l.myData.LUMA_KEY=a,l.myData.VIGGLE_KEY=a,l.myData.RUNWAY_KEY=a,l.myData.IDEO_KEY=a,l.myData.KLING_KEY=a)}),(a,s)=>(b(),$("div",ke,[e("div",Ie,[e("div",Oe,[e("div",Ne,[e("div",Be,[d(t(D),{value:t(l).myData.IS_SET_SYNC,"onUpdate:value":s[0]||(s[0]=n=>t(l).myData.IS_SET_SYNC=n),size:"small"},{checked:p(()=>[v(o(a.$t("mjchat.setSync")),1)]),unchecked:p(()=>[v(o(a.$t("mjchat.setSync")),1)]),_:1},8,["value"])]),e("div",Ae,o(a.$t("mj.setOpen")),1)]),e("section",Ke,[d(t(c),{onBlur:t(m),placeholder:a.$t("mj.setOpenPlaceholder"),value:t(l).myData.OPENAI_API_BASE_URL,"onUpdate:value":s[1]||(s[1]=n=>t(l).myData.OPENAI_API_BASE_URL=n),clearable:""},{prefix:p(()=>[e("span",Me,o(a.$t("mj.setOpenUrl"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("section",Pe,[d(t(c),{onBlur:t(m),type:"password",placeholder:a.$t("mj.setOpenKeyPlaceholder"),"show-password-on":"click",value:t(l).myData.OPENAI_API_KEY,"onUpdate:value":s[2]||(s[2]=n=>t(l).myData.OPENAI_API_KEY=n),clearable:""},{prefix:p(()=>[Ve]),_:1},8,["onBlur","placeholder","value"])]),e("div",Ye,[e("section",Ce,[d(t(D),{value:t(l).myData.GPTS_GX,"onUpdate:value":s[3]||(s[3]=n=>t(l).myData.GPTS_GX=n)},{checked:p(()=>[v(o(a.$t("mj.gpt_gx")),1)]),unchecked:p(()=>[v(o(a.$t("mj.gpt_gx")),1)]),_:1},8,["value"])]),e("section",Le,[d(t(D),{value:t(l).myData.MJ_CDN_WSRV,"onUpdate:value":s[4]||(s[4]=n=>t(l).myData.MJ_CDN_WSRV=n)},{checked:p(()=>[v(o(a.$t("mj.wsrvClose")),1)]),unchecked:p(()=>[v(o(a.$t("mj.wsrvOpen")),1)]),_:1},8,["value"])])]),e("div",Ge,o(a.$t("mj.setMj")),1),e("section",Te,[d(t(c),{placeholder:a.$t("mj.setOpenPlaceholder"),value:t(l).myData.MJ_SERVER,"onUpdate:value":s[5]||(s[5]=n=>t(l).myData.MJ_SERVER=n),clearable:""},{prefix:p(()=>[e("span",Je,o(a.$t("mj.setMjUrl")),1)]),_:1},8,["placeholder","value"])]),e("section",We,[d(t(c),{type:"password",placeholder:a.$t("mj.setMjKeyPlaceholder"),"show-password-on":"click",value:t(l).myData.MJ_API_SECRET,"onUpdate:value":s[6]||(s[6]=n=>t(l).myData.MJ_API_SECRET=n),clearable:""},{prefix:p(()=>[qe]),_:1},8,["placeholder","value"])]),e("div",ze,o(a.$t("suno.serverabout")),1),e("section",Xe,[d(t(c),{onBlur:t(m),placeholder:a.$t("mj.setOpenPlaceholder"),value:t(l).myData.SUNO_SERVER,"onUpdate:value":s[7]||(s[7]=n=>t(l).myData.SUNO_SERVER=n),clearable:""},{prefix:p(()=>[e("span",Fe,o(a.$t("suno.server"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("section",Ze,[d(t(c),{onBlur:t(m),type:"password",placeholder:a.$t("suno.setOpenKeyPlaceholder"),"show-password-on":"click",value:t(l).myData.SUNO_KEY,"onUpdate:value":s[8]||(s[8]=n=>t(l).myData.SUNO_KEY=n),clearable:""},{prefix:p(()=>[He]),_:1},8,["onBlur","placeholder","value"])]),e("div",Qe,o(a.$t("video.lumaabout")),1),e("section",et,[d(t(c),{onBlur:t(m),placeholder:a.$t("mj.setOpenPlaceholder"),value:t(l).myData.LUMA_SERVER,"onUpdate:value":s[9]||(s[9]=n=>t(l).myData.LUMA_SERVER=n),clearable:""},{prefix:p(()=>[e("span",tt,o(a.$t("video.lumaserver"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("section",st,[d(t(c),{onBlur:t(m),type:"password",placeholder:a.$t("video.setOpenKeyPlaceholder"),"show-password-on":"click",value:t(l).myData.LUMA_KEY,"onUpdate:value":s[10]||(s[10]=n=>t(l).myData.LUMA_KEY=n),clearable:""},{prefix:p(()=>[at]),_:1},8,["onBlur","placeholder","value"])]),e("div",lt,o(a.$t("dance.viggleabout")),1),e("section",ot,[d(t(c),{onBlur:t(m),placeholder:a.$t("mj.setOpenPlaceholder"),value:t(l).myData.VIGGLE_SERVER,"onUpdate:value":s[11]||(s[11]=n=>t(l).myData.VIGGLE_SERVER=n),clearable:""},{prefix:p(()=>[e("span",nt,o(a.$t("dance.viggleserver"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("section",it,[d(t(c),{onBlur:t(m),type:"password",placeholder:a.$t("dance.setOpenKeyPlaceholder"),"show-password-on":"click",value:t(l).myData.VIGGLE_KEY,"onUpdate:value":s[12]||(s[12]=n=>t(l).myData.VIGGLE_KEY=n),clearable:""},{prefix:p(()=>[rt]),_:1},8,["onBlur","placeholder","value"])]),e("div",dt,o(a.$t("video.runwayabout")),1),e("section",ut,[d(t(c),{onBlur:t(m),placeholder:a.$t("mj.setOpenPlaceholder"),value:t(l).myData.RUNWAY_SERVER,"onUpdate:value":s[13]||(s[13]=n=>t(l).myData.RUNWAY_SERVER=n),clearable:""},{prefix:p(()=>[e("span",pt,o(a.$t("video.runwayserver"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("section",ct,[d(t(c),{onBlur:t(m),type:"password",placeholder:a.$t("video.setOpenKeyPlaceholder2"),"show-password-on":"click",value:t(l).myData.RUNWAY_KEY,"onUpdate:value":s[14]||(s[14]=n=>t(l).myData.RUNWAY_KEY=n),clearable:""},{prefix:p(()=>[mt]),_:1},8,["onBlur","placeholder","value"])]),e("div",vt,o(a.$t("mj.ideoabout")),1),e("section",_t,[d(t(c),{onBlur:t(m),placeholder:a.$t("mj.setOpenPlaceholder"),value:t(l).myData.IDEO_SERVER,"onUpdate:value":s[15]||(s[15]=n=>t(l).myData.IDEO_SERVER=n),clearable:""},{prefix:p(()=>[e("span",yt,o(a.$t("mj.ideoserver"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("section",ft,[d(t(c),{onBlur:t(m),type:"password",placeholder:a.$t("mj.ideokeyPlaceholder"),"show-password-on":"click",value:t(l).myData.IDEO_KEY,"onUpdate:value":s[16]||(s[16]=n=>t(l).myData.IDEO_KEY=n),clearable:""},{prefix:p(()=>[ht]),_:1},8,["onBlur","placeholder","value"])]),e("div",xt,o(a.$t("mj.klingabout")),1),e("section",bt,[d(t(c),{onBlur:t(m),placeholder:a.$t("mj.setOpenPlaceholder"),value:t(l).myData.KLING_SERVER,"onUpdate:value":s[17]||(s[17]=n=>t(l).myData.KLING_SERVER=n),clearable:""},{prefix:p(()=>[e("span",$t,o(a.$t("mj.klingserver"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("section",gt,[d(t(c),{onBlur:t(m),type:"password",placeholder:a.$t("mj.klingkeyPlaceholder"),"show-password-on":"click",value:t(l).myData.KLING_KEY,"onUpdate:value":s[18]||(s[18]=n=>t(l).myData.KLING_KEY=n),clearable:""},{prefix:p(()=>[e("span",wt,o(a.$t("mj.klingkey"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("div",Et,o(a.$t("mj.setUploader")),1),e("section",jt,[d(t(c),{placeholder:a.$t("mj.setOpenPlaceholder"),value:t(l).myData.UPLOADER_URL,"onUpdate:value":s[19]||(s[19]=n=>t(l).myData.UPLOADER_URL=n),clearable:""},{prefix:p(()=>[e("span",Dt,o(a.$t("mj.setUploaderUrl")),1)]),_:1},8,["placeholder","value"])])])]),e("section",St,[d(t(g),{onClick:s[20]||(s[20]=n=>t(l).setInit())},{default:p(()=>[v(o(a.$t("mj.setBtBack")),1)]),_:1}),d(t(g),{type:"primary",onClick:x},{default:p(()=>[v(o(a.$t("mj.setBtSave")),1)]),_:1})])]))}});export{Ot as _,It as a};
